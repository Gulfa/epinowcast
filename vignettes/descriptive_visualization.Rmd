---
title: "Descriptive visualization of right-truncated case reporting data using epinowcast utilities"
description: "Am illustration using age stratified COVID-19 hospitalisation data from Germany."
author: Felix GÃ¼nther
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Descriptive visualization of right-truncated case reporting data using epinowcast utilities}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---



In this vignette we illustrate the visualization utilities of `epinowcast` to obtain a descriptive overview

# Packages

We use the `epinowcast` package, `data.table` and `purrr` for data manipulation, `ggplot2` for plotting, `knitr` to produce tables of output, `loo` to approximately evaluate out of sample performance and `scoringutils` to evaluate out of sample forecast performance.


```{r, eval=T, message=FALSE, warning=FALSE}
library(epinowcast)
library(data.table)
library(purrr)
library(ggplot2)
library(loo)
library(scoringutils)
library(knitr)
theme_set(theme_bw())
knitr::opts_chunk$set(fig.width = 6, fig.height = 4, fig.align = "center")
```


# Data


```{r, eval=T}
ger_hosp <- epinowcast::germany_covid19_hosp[age_group == "00+" &
  location == "DE"]

retro_ger_hosp <- ger_hosp |>
  enw_filter_report_dates(latest_date = "2021-09-15") |>
  enw_filter_reference_dates(include_days = 60)
print(retro_ger_hosp)
```

```{r, eval=T, message=FALSE, warning=FALSE}
pobs_ger <- enw_preprocess_data(retro_ger_hosp, max_delay = 40)
pobs_ger
```


```{r, eval=T, message=FALSE, warning=FALSE}
plot(pobs_ger)
plot(pobs_ger, type = "emp_rep_frac")
plot(pobs_ger, type = "emp_rep_quant")
plot(pobs_ger, type = "emp_ts_del")
```
